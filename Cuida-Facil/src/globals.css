@import "tailwindcss";

/* ========================================
   VARIÁVEIS GLOBAIS
   ======================================== */
:root {
  /* Cores */
  --primary: #009fdb;
  --primary-dark: #007ab8;
  --primary-darker: #005b8f;
  --secondary: #34d6ff;
  --bg-light: #b2e4f5;
  --bg-card: #ffffff;
  --text: #333;
  --text-light: #606060;
  --text-lighter: #666;
  --border: #ddd;
  --shadow: rgba(0,0,0,0.1);
  
  /* Espaçamentos */
  --spacing-xs: 0.5rem;
  --spacing-sm: 0.75rem;
  --spacing-md: 1rem;
  --spacing-lg: 1.5rem;
  --spacing-xl: 2rem;
  
  /* Transições */
  --transition: 0.2s ease;
  --transition-long: 0.3s ease;
}

/* Tema Escuro */
[data-tema="escuro"] {
  --bg-light: #1a1a2e;
  --bg-card: #0f3460;
  --text: #e0e0e0;
  --text-light: #b0b0b0;
  --text-lighter: #999;
  --border: #2d4263;
  --shadow: rgba(0,0,0,0.4);
}

/* ========================================
   BASE
   ======================================== */
@layer base {
  body {
    @apply font-sans bg-gradient-to-b text-[var(--text)];
    background-image: linear-gradient(to bottom, var(--bg-light), var(--secondary));
  }

  main { @apply flex-1 p-5 flex flex-col items-center w-full max-sm:pt-14; }
  header { @apply p-5 text-center max-sm:py-3; }
  h1 { @apply text-2xl mt-0 text-[var(--text-light)] font-bold leading-tight md:text-3xl lg:text-4xl; }

  nav {
    @apply flex justify-center items-center flex-wrap gap-6 max-sm:gap-2 max-sm:mt-2;
    
    a {
      @apply text-[var(--primary)] no-underline font-bold text-xl px-2 
             transition-all duration-200
             md:text-lg md:px-3 lg:text-xl lg:px-4 max-sm:mx-1 max-sm:text-xs max-sm:px-1;

      &.active {
        @apply bg-gradient-to-b from-[#d0f0ff] to-white text-[#004a80] 
               py-2 px-4 rounded-md md:py-3 md:px-5;
      }
      &:hover { @apply text-[var(--primary-dark)] scale-105; }
    }
  }

  details {
    @apply bg-[#f1faff] border-2 border-[var(--primary)] rounded-xl my-4 p-4 
           transition-all duration-300 md:p-4 max-sm:p-3;
    animation: slideInUp 0.4s ease-out backwards;
    
    &:nth-child(n) { animation-delay: calc(0.05s * var(--i, 1)); }
    &:hover { @apply shadow-lg scale-[1.01] border-[var(--primary-dark)]; }
    &[open] {
      @apply shadow-xl bg-white;
      summary { @apply mb-4 pb-3 border-b-2 border-gray-200; }
    }

    summary {
      @apply font-bold cursor-pointer text-lg text-[var(--primary-darker)] 
             transition-all duration-200 hover:text-[var(--primary-dark)]
             md:text-base max-sm:text-sm;
      &:focus { @apply outline-none ring-4 ring-[var(--primary)]/30 rounded-lg; }
    }

    p {
      @apply text-gray-700 text-base leading-relaxed m-0 md:text-sm max-sm:text-sm;
      animation: fadeInContent 0.4s ease-out;
    }
  }
}

/* ========================================
   COMPONENTES
   ======================================== */
@layer components {
  /* Layout */
  .app-container { @apply m-0 p-0 flex flex-col text-center overflow-x-hidden min-h-screen; }
  .baseCabecalho { @apply flex-grow max-sm:hidden; }
  
  .logo {
    @apply w-[390px] h-[180px] mb-2.5 block mx-auto
           md:w-[320px] md:h-[150px] lg:w-[390px] lg:h-[180px]
           sm:w-[280px] sm:h-[130px] max-sm:w-[200px] max-sm:h-auto;
  }

  /* Botões */
  .button {
    @apply no-underline bg-gradient-to-b from-[var(--primary)] to-[var(--secondary)]
           text-white py-4 px-7 border-none rounded-lg text-xl 
           inline-flex items-center justify-center gap-2 
           cursor-pointer transition-transform duration-200 
           hover:scale-110
           md:py-3 md:px-6 md:text-lg lg:py-4 lg:px-7 lg:text-xl
           sm:py-3 sm:px-5 sm:text-base
           max-sm:w-full max-sm:max-w-[280px] max-sm:mx-auto max-sm:text-lg max-sm:py-4;

    &.selected { @apply bg-gradient-to-b from-[#004b75] to-[#002337]; }
  }

  .button-icon { @apply w-4 h-4 md:w-5 md:h-5 sm:w-4 sm:h-4; }
  
  .voltar {
    @apply absolute text-lg right-5 top-5 bg-none border-none 
           text-inherit font-bold cursor-pointer no-underline z-50
           md:text-xl sm:text-lg max-sm:text-base max-sm:right-3 max-sm:top-5 max-sm:p-2;
  }

  /* Footer */
  .footer {
    @apply w-full flex justify-around bg-gradient-to-b from-[#B2E7FF] to-[#8BDAFF]
           p-4 min-h-[80px] border-t border-gray-300 z-[1000] text-lg 
           flex-wrap items-center text-center mt-auto gap-3
           lg:flex-nowrap lg:text-xl md:flex-wrap md:text-lg
           sm:flex-col sm:h-auto sm:text-base max-sm:flex-col max-sm:h-auto max-sm:text-sm;
    
    a {
      @apply no-underline text-[#0077aa] font-bold text-lg mx-3 
             transition-all duration-200 hover:text-[#005580] hover:scale-105
             md:text-base sm:text-sm max-sm:text-sm max-sm:mx-1.5;
    }

    small, p {
      @apply block w-full text-center my-2 text-base
             lg:inline-block lg:w-auto lg:my-0
             md:block md:w-full md:text-sm sm:text-sm max-sm:text-xs;
    }
  }

  /* Hero & Search */
  .page-main { @apply flex-1 flex flex-col items-center w-full pt-0 pb-10 px-5 md:pb-12 md:px-6 max-sm:pb-8 max-sm:px-4; }
  
  .page-breadcrumb, .unidades-breadcrumb {
    @apply flex items-center gap-2 w-full max-w-7xl pt-6 pb-3 px-5
           text-base text-gray-600 font-medium md:pt-5 md:text-sm max-sm:pt-4 max-sm:text-sm;
  }

  .breadcrumb-link { @apply text-[var(--primary)] no-underline font-semibold hover:underline transition-all duration-200; }
  .breadcrumb-separator { @apply text-gray-400 select-none text-lg; }
  .breadcrumb-current { @apply text-gray-700 font-bold; }

  .page-hero {
    @apply w-full max-w-7xl flex flex-col items-center gap-6 py-8 px-5
           md:py-6 md:gap-5 max-sm:py-5 max-sm:gap-4;
  }

  .page-hero-title {
    @apply text-5xl font-extrabold text-[var(--primary-darker)] text-center m-0 leading-tight
           md:text-4xl sm:text-3xl max-sm:text-2xl;
  }

  .page-hero-subtitle {
    @apply text-xl text-gray-600 text-center max-w-2xl mx-auto leading-relaxed
           md:text-lg sm:text-base max-sm:text-sm;
  }

  /* Search */
  .page-search-container { @apply w-full max-w-3xl flex gap-3 md:flex-row md:gap-2 max-sm:flex-col max-sm:gap-2; }
  .page-search-wrapper { @apply flex-1 relative flex items-center; }
  
  .page-search-input {
    @apply w-full py-3.5 pl-12 pr-10 bg-white border-2 border-gray-200 
           rounded-xl text-base transition-all duration-200
           focus:outline-none focus:border-[var(--primary)] focus:ring-2 focus:ring-[var(--primary)]/20
           placeholder:text-gray-400 md:py-3 md:text-sm max-sm:py-2.5 max-sm:text-sm max-sm:pl-10 max-sm:pr-9;
  }

  .search-icon { @apply absolute left-4 text-gray-400 pointer-events-none max-sm:left-3; }
  
  .search-clear {
    @apply absolute right-3 p-1 rounded-full text-gray-400 bg-transparent border-none
           cursor-pointer transition-all duration-200 hover:bg-gray-100 hover:text-gray-600 max-sm:right-2;
  }

  .page-filter-toggle {
    @apply flex items-center gap-2 px-6 py-3.5 bg-white border-2 border-gray-200
           rounded-xl font-semibold text-base cursor-pointer transition-all duration-200
           hover:border-[var(--primary)] hover:bg-[#e0f7ff]
           md:px-5 md:py-3 md:text-sm max-sm:w-full max-sm:justify-center max-sm:py-2.5;
    
    span { @apply max-sm:text-sm; }
  }

  /* Filtros */
  .page-filters {
    @apply w-full max-w-3xl flex flex-wrap justify-center gap-3 transition-all duration-300
           md:gap-2 max-sm:gap-2 max-sm:flex;
  }

  .filter-chip {
    @apply px-5 py-2.5 bg-white border-2 border-gray-200 rounded-full 
           font-semibold text-sm cursor-pointer transition-all duration-200
           hover:border-[var(--primary)] hover:scale-105
           md:px-4 md:py-2 md:text-xs max-sm:px-4 max-sm:py-2 max-sm:text-xs;
    
    &.active {
      @apply bg-gradient-to-r from-[var(--primary)] to-[var(--secondary)]
             text-white border-[var(--primary)] shadow-lg;
    }
  }

  /* Grid */
  .page-grid, .unidades-grid {
    @apply w-full max-w-7xl grid gap-6 py-6 md:py-5 max-sm:gap-4 max-sm:py-4;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    
    @media (max-width: 1024px) { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
    @media (max-width: 768px) { grid-template-columns: repeat(2, 1fr); }
    @media (max-width: 640px) { grid-template-columns: 1fr; }
  }

  /* Empty State */
  .page-empty, .unidades-empty {
    @apply w-full max-w-md flex flex-col items-center gap-4 py-12 px-6 text-center
           md:py-10 md:gap-3 max-sm:py-8 max-sm:gap-3 max-sm:px-4;
    
    p { @apply text-lg text-gray-600 m-0 md:text-base max-sm:text-sm; }
  }

  /* Actions */
  .page-actions {
    @apply w-full max-w-7xl flex justify-center gap-4 pt-8 pb-4
           md:pt-6 max-sm:pt-5 max-sm:flex-col max-sm:items-center;
  }

  /* Cards Base */
  .cards {
    @apply grid gap-5 w-full max-w-7xl mx-auto pt-20 px-5 pb-5
           md:gap-6 md:pt-16 md:px-6 md:pb-6 lg:gap-7 lg:pt-20
           xl:gap-8 max-sm:gap-4 max-sm:pt-20 max-sm:px-4 max-sm:pb-4;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    
    @media (max-width: 640px) { grid-template-columns: 1fr; }
  }

  .card {
    @apply flex flex-col justify-start w-full min-h-[380px] p-5 
           text-[var(--text)] bg-white relative rounded-lg 
           shadow-[0_0_8px_var(--shadow)] overflow-hidden 
           transition-transform duration-200 text-left
           hover:scale-105
           before:content-[''] before:absolute before:inset-0 
           before:bg-white/75 before:z-[1]
           md:min-h-[360px] md:p-4 lg:min-h-[400px]
           max-sm:min-h-[320px] max-sm:p-3 max-sm:text-center;
    
    h2 {
      @apply text-2xl font-extrabold relative z-[2] mb-2.5 
             text-[var(--primary-darker)] text-left
             md:text-xl sm:text-lg max-sm:text-base max-sm:text-center;
    }

    p {
      @apply text-xl font-semibold leading-snug relative z-[2] 
             text-left mt-auto mx-0 md:text-base sm:text-sm max-sm:text-sm max-sm:text-center;
    }
  }

  .card-link {
    @apply flex flex-col justify-start h-full w-full no-underline 
           text-inherit absolute top-0 left-0 p-5
           md:p-4 sm:p-3 max-sm:p-3;
    
    h2, p { @apply z-[2] relative; }
  }

  .card-text {
    @apply mt-2 relative z-[2] list-disc pl-5 text-gray-800 font-semibold
           md:text-sm md:pl-4 sm:text-xs sm:pl-3 
           max-sm:text-xs max-sm:pl-3 max-sm:text-center max-sm:list-none;
  }

  /* Card Backgrounds - Agrupados */
  .card-especialidades { @apply bg-cover bg-center bg-no-repeat bg-[url('/assets/img/Especialidades-Botao.jpeg')]; }
  .card-consulta { @apply bg-cover bg-center bg-no-repeat bg-[url('/assets/img/Marcar-Consulta.jpeg')]; }
  .card-unidades { @apply bg-cover bg-center bg-no-repeat bg-[url('/assets/img/Unidades.jpeg')]; }
  .card-minhas-consultas { @apply bg-cover bg-gradient-to-br from-[var(--secondary)] to-[var(--primary)] bg-[url('/assets/img/Minhas-Consultas.jpeg')]; }
  .card-hc-pinheiros { @apply bg-cover bg-center bg-no-repeat bg-[url('/assets/img/hcpinheiros.png')]; }
  .card-ichc-central { @apply bg-cover bg-center bg-no-repeat bg-[url('/assets/img/hccentral.png')]; }
  .card-imrea-vila-mariana { @apply bg-cover bg-center bg-no-repeat bg-[url('/assets/img/hcvilamariana.png')]; }
  .card-ortopedia { @apply bg-cover bg-center bg-no-repeat bg-[url('/assets/img/Ortopedia.jpeg')]; }
  .card-cardiologia { @apply bg-cover bg-center bg-no-repeat bg-[url('/assets/img/Cardiologia.jpeg')]; }
  .card-pediatria { @apply bg-cover bg-center bg-no-repeat bg-[url('/assets/img/Pediatria.jpg')]; }
  
  .card-incor, .card-icr-hc, .card-iot-hc, .card-ipq-hc, 
  .card-inrad, .card-icesp, .card-has-suzano {
    @apply bg-gradient-to-br from-[var(--bg-light)] to-[var(--secondary)];
  }

  /* Cards Unidade */
  .unidade-card {
    @apply relative rounded-2xl overflow-hidden bg-white shadow-lg
           transition-all duration-300 border border-gray-200
           hover:shadow-2xl hover:scale-[1.03] hover:border-[var(--primary)]/50
           w-full min-h-[400px] md:min-h-[380px] max-sm:min-h-[360px];
  }

  .unidade-card-overlay {
    @apply absolute inset-0 z-10 flex flex-col p-5
           bg-gradient-to-b from-white/85 via-white/80 to-white/75
           backdrop-blur-sm md:p-4 max-sm:p-4;
  }

  .unidade-card-header { @apply flex justify-between items-start gap-2 mb-3 max-sm:mb-2.5; }
  
  .unidade-card-title {
    @apply text-xl font-bold text-[var(--primary-darker)] m-0 leading-tight flex-1
           md:text-lg max-sm:text-base;
  }

  .unidade-badge {
    @apply px-2.5 py-1 rounded-full text-[10px] font-bold uppercase 
           tracking-wide whitespace-nowrap flex-shrink-0
           md:px-2 md:py-0.5 md:text-[9px] max-sm:px-2 max-sm:py-0.5 max-sm:text-[8px];
    
    &.emergencia { @apply bg-red-500/90 text-white; }
    &.consulta { @apply bg-blue-500/90 text-white; }
  }

  .unidade-card-body {
    @apply flex flex-col gap-2.5 flex-1 mb-3
           md:gap-2 md:mb-2.5 max-sm:gap-2 max-sm:mb-2;
  }

  .unidade-info { @apply flex items-start gap-2.5 max-sm:gap-2; }
  .info-icon { @apply flex-shrink-0 mt-0.5 text-[var(--primary)] w-4 h-4 max-sm:w-3.5 max-sm:h-3.5; }
  
  .info-text {
    @apply text-xs text-gray-700 font-medium leading-relaxed m-0
           md:text-[11px] max-sm:text-[11px];
  }

  .unidade-card-footer {
    @apply mt-auto pt-3 border-t border-gray-200
           md:pt-2.5 max-sm:pt-2;
  }

  .servicos-tags { @apply flex flex-wrap gap-1.5 max-sm:gap-1; }
  
  .servico-tag {
    @apply px-2.5 py-1 bg-[#e0f7ff] text-[var(--primary-darker)]
           text-[10px] font-semibold rounded-md border border-[var(--primary)]/10
           transition-all duration-200 hover:bg-[#d0f0ff] hover:scale-105
           md:px-2 md:py-0.5 md:text-[9px] max-sm:px-2 max-sm:py-0.5 max-sm:text-[9px];
  }

  .especialidade-card-content { @apply flex flex-col justify-center items-center h-full text-center; }
  
  .especialidade-descricao {
    @apply text-sm text-gray-700 font-medium leading-relaxed mt-3
           md:text-xs max-sm:text-xs;
  }

  /* Cards Consulta */
  .consulta-card {
    @apply relative rounded-2xl overflow-hidden bg-white shadow-lg
           transition-all duration-300 border border-gray-200
           hover:shadow-2xl hover:scale-[1.02]
           max-w-[420px] mx-auto w-full md:max-w-full max-sm:max-w-full;
  }

  .consulta-card-header {
    @apply flex justify-between items-start gap-3 p-5 border-b-2 border-gray-100
           md:p-4 max-sm:p-4;
  }

  .consulta-card-info { @apply flex-1; }
  
  .consulta-card-title {
    @apply text-xl font-bold text-[var(--primary-darker)] m-0 mb-1
           md:text-lg max-sm:text-base;
  }

  .consulta-protocolo { @apply text-xs text-gray-500 m-0 font-medium max-sm:text-[11px]; }

  .consulta-status-badge {
    @apply px-3 py-1.5 rounded-full text-xs font-bold uppercase 
           tracking-wide whitespace-nowrap
           md:px-2.5 md:py-1 md:text-[10px] max-sm:px-2 max-sm:py-1 max-sm:text-[9px];
    
    &.status-agendada { @apply bg-blue-500/90 text-white; }
    &.status-reagendada { @apply bg-yellow-500/90 text-white; }
    &.status-concluida { @apply bg-green-500/90 text-white; }
    &.status-cancelada { @apply bg-red-500/90 text-white; }
    &.status-default { @apply bg-gray-500/90 text-white; }
  }

  .consulta-card-body { @apply p-5 md:p-4 max-sm:p-4; }
  .consulta-info-grid { @apply grid grid-cols-2 gap-4 max-sm:grid-cols-1 max-sm:gap-3; }
  
  .consulta-info-item {
    @apply flex items-start gap-3 max-sm:gap-2.5;
    &.consulta-info-full { @apply col-span-2 max-sm:col-span-1; }
  }

  .consulta-icon { @apply flex-shrink-0 mt-0.5 text-[var(--primary)] max-sm:w-4 max-sm:h-4; }
  .consulta-label { @apply text-xs text-gray-500 m-0 mb-1 font-medium max-sm:text-[11px]; }
  .consulta-value { @apply text-sm text-gray-800 m-0 font-semibold md:text-xs max-sm:text-xs; }

  .consulta-card-footer {
    @apply flex gap-3 p-5 pt-4 border-t-2 border-gray-100
           md:p-4 md:pt-3 max-sm:flex-col max-sm:p-4 max-sm:pt-3 max-sm:gap-2;
  }

  .consulta-btn {
    @apply flex-1 px-4 py-2.5 rounded-lg font-semibold text-sm
           border-2 transition-all duration-200 cursor-pointer hover:scale-105
           md:px-3 md:py-2 md:text-xs max-sm:w-full max-sm:text-sm;
    
    &.consulta-btn-secondary { @apply bg-yellow-50 text-yellow-700 border-yellow-200 hover:bg-yellow-100; }
    &.consulta-btn-danger { @apply bg-red-50 text-red-700 border-red-200 hover:bg-red-100; }
    &.consulta-btn-delete {
      @apply bg-gray-50 text-gray-700 border-gray-300
             hover:bg-red-50 hover:text-red-700 hover:border-red-300
             flex items-center justify-center gap-2;
    }
  }

  /* Integrantes */
  .integrantes {
    @apply text-center flex flex-wrap justify-center gap-5 p-5
           md:gap-4 md:p-4 sm:gap-3 sm:p-3 max-sm:gap-2 max-sm:p-2;
  }

  .card_integrantes {
    @apply m-6 p-4 bg-[#f3faff] rounded-lg text-center w-60 
           shadow-[0_0_10px_var(--shadow)] flex flex-col items-center
           md:w-52 md:m-4 sm:w-48 sm:m-3 
           max-sm:w-full max-sm:max-w-[200px] max-sm:m-2 max-sm:p-3;

    img {
      @apply w-24 h-24 object-cover rounded-lg border-2 border-[var(--primary)] mb-2.5
             md:w-20 md:h-20 sm:w-16 sm:h-16 max-sm:w-14 max-sm:h-14;
    }
  }

  /* Modal & Notificação */
  .notificacao {
    @apply fixed bottom-5 right-5 bg-white border border-[var(--primary)]
           py-4 px-5 rounded-lg shadow-[0_0_10px_var(--shadow)]
           z-[999] max-w-xs text-sm text-left
           md:max-w-sm md:text-base sm:max-w-xs sm:text-sm
           max-sm:max-w-[90%] max-sm:right-2.5 max-sm:bottom-2.5 max-sm:text-xs max-sm:py-3 max-sm:px-4;
    
    button { @apply mt-2.5 bg-none border-none text-[#0077aa] font-bold cursor-pointer max-sm:text-sm; }
  }

  .modal-overlay {
    @apply fixed inset-0 bg-black/60 backdrop-blur-sm z-[9998] 
           flex items-center justify-center p-4;
    animation: fadeIn 0.2s ease-out;
  }

  .modal-content {
    @apply relative bg-white rounded-xl shadow-2xl 
           max-w-md w-full max-h-[90vh] overflow-y-auto z-[9999];
    animation: scaleIn 0.3s ease-out;
  }

  .modal-close {
    @apply absolute top-3 right-3 w-8 h-8 flex items-center justify-center
           bg-gray-200 hover:bg-gray-300 rounded-full cursor-pointer 
           transition-all duration-200 z-[10000]
           text-gray-600 hover:text-gray-800 font-bold text-xl;
  }

  .modal-open { @apply overflow-hidden; }

  /* Autenticação */
  .auth-status { @apply flex items-center gap-2 ml-10 max-sm:ml-2 max-sm:gap-1; }
  .auth-status-home { @apply fixed top-5 right-5 z-50 max-sm:top-3 max-sm:right-3; }
  .user-greeting { @apply text-sm font-semibold text-[var(--text)] md:text-3xl md:px-8 md:py-2 max-sm:text-xs max-sm:px-2 max-sm:py-1; }
  
  .logout-button, .login-button {
    @apply text-white font-bold text-sm px-4 py-1.5 border-none 
           transition-all duration-200 hover:scale-105 active:scale-95
           md:text-xl md:px-5 md:py-2 max-sm:text-xs max-sm:px-3 max-sm:py-1;
  }

  .auth-container { @apply max-w-sm w-full mx-auto p-6 my-30 bg-white border-none rounded-xl shadow-2xl; }
  .auth-title { @apply mb-7 text-2xl; }
  .auth-title-sucesso { @apply text-[var(--primary)] mb-7 text-2xl text-center; }
  .auth-link-button { @apply bg-none border-none text-[var(--primary)] cursor-pointer text-sm underline p-0; }
  
  .auth-button-primary {
    @apply w-full p-3 bg-[var(--text)] text-white border-none rounded-md 
           text-base font-bold cursor-pointer transition-all duration-200
           hover:bg-[#555] disabled:bg-gray-400 disabled:cursor-not-allowed;
  }

  .auth-button-secondary {
    @apply w-full p-3 bg-[#f0f0f0] text-[var(--text)] border-none rounded-md 
           text-base font-bold cursor-pointer transition-all duration-200 hover:bg-[#e0e0e0];
  }

  .auth-error { @apply text-red-600 text-sm my-2.5; }
  .auth-success-box { @apply bg-[#f0f9ff] p-5 rounded-lg mb-5 text-left; }
  .auth-success-password { @apply text-2xl font-bold text-[var(--primary)] tracking-wider text-center my-4; }
  .auth-info-text { @apply text-sm text-gray-600 mb-4; }

  /* Formulários */
  .container {
    @apply bg-white border-none rounded-lg p-7 max-w-lg w-[90%] 
           my-14 mx-auto shadow-[0_0_10px_var(--shadow)] text-center
           md:my-16 md:max-w-md md:p-6 sm:my-8 sm:max-w-sm sm:p-5
           max-sm:my-5 max-sm:max-w-[95%] max-sm:p-4;
  }

  .form-title { @apply text-center mb-5 text-xl font-bold md:text-3xl sm:text-xl max-sm:text-base max-sm:text-center; }
  
  .input-field {
    @apply w-full p-2.5 my-2.5 border-none rounded-md bg-[#e0e0e0] text-sm
           md:text-base md:min-h-[45px] sm:text-sm sm:min-h-[40px]
           max-sm:text-base max-sm:min-h-[45px] max-sm:p-3;
  }

  .buttons {
    @apply flex justify-between mt-5 md:flex-row 
           sm:flex-col sm:gap-3 max-sm:flex-col max-sm:gap-4;
    
    button { @apply bg-none border-none text-base text-[#555] cursor-pointer md:text-sm sm:text-base max-sm:text-sm; }
  }

  .button-form {
    @apply no-underline text-[var(--text)] py-4 px-7 border-none rounded-lg 
           text-xl inline-flex items-center justify-center gap-2 
           cursor-pointer transition-transform duration-200 
           hover:scale-110 
           disabled:opacity-50 disabled:cursor-not-allowed disabled:hover:scale-100
           md:py-3 md:px-6 md:text-lg lg:py-4 lg:px-7 lg:text-xl
           sm:py-3 sm:px-5 sm:text-base
           max-sm:w-full max-sm:max-w-[280px] max-sm:mx-auto max-sm:text-lg max-sm:py-4;
  }

  .button-form-success {
    @apply w-full no-underline bg-gradient-to-b from-[var(--primary)] to-[var(--secondary)]
           text-white py-4 px-7 border-none rounded-lg text-xl 
           inline-flex items-center justify-center gap-2 
           cursor-pointer transition-transform duration-200 hover:scale-110
           md:py-3 md:px-6 md:text-lg lg:py-4 lg:px-7 lg:text-xl
           sm:py-3 sm:px-5 sm:text-base max-sm:text-lg max-sm:py-4;
  }

  .success-container { @apply bg-white p-8 rounded-lg mb-5 shadow-md md:p-6 sm:p-5 max-sm:p-4; }
  
  .success-title {
    @apply text-[var(--primary)] mb-6 flex items-center justify-center gap-3 
           text-2xl font-bold md:text-xl sm:text-lg max-sm:text-base max-sm:gap-2;
  }

  .success-icon {
    @apply w-12 h-12 inline-flex items-center justify-center
           md:w-10 md:h-10 sm:w-9 sm:h-9 max-sm:w-8 max-sm:h-8;
    img { @apply w-full h-full object-contain; }
  }

  .success-message {
    @apply whitespace-pre-wrap bg-[#f8f9fa] p-5 rounded-lg 
           text-[var(--text)] text-base text-left leading-relaxed
           md:text-sm md:p-4 sm:text-sm sm:p-4 max-sm:text-xs max-sm:p-3;
  }

  .form-label {
    @apply block text-left mb-1.5 text-sm font-semibold text-[var(--text)]
           md:text-sm sm:text-xs max-sm:text-xs;
  }

  .radio-container { @apply flex gap-4 justify-around sm:flex-row sm:gap-3 max-sm:flex-col max-sm:gap-2; }
  
  .radio-label {
    @apply flex items-center cursor-pointer flex-1 p-2.5 rounded-lg 
           border-2 transition-all duration-200 md:p-2 sm:p-2 max-sm:p-2;

    &.selected { @apply bg-[#e0f7ff] border-[var(--primary)]; }
    &:not(.selected) { @apply bg-[#f5f5f5] border-[var(--border)]; }
  }

  .radio-input { @apply mr-2 cursor-pointer; }
  
  .center-button {
    @apply flex flex-row justify-center gap-5 mt-7 md:gap-4
           sm:flex-row sm:items-center sm:gap-3 
           max-sm:flex-col max-sm:items-center max-sm:gap-3;
  }

  /* Loading & Errors */
  .loading-spinner {
    @apply inline-block w-12 h-12 border-4 border-[#f3f3f3] 
           border-t-[var(--primary)] rounded-full
           md:w-10 md:h-10 sm:w-8 sm:h-8 max-sm:w-8 max-sm:h-8;
    animation: spin 1s linear infinite;
  }

  .loading-container { @apply text-center py-16 px-5 md:py-12 sm:py-10 max-sm:py-8; }
  .loading-text { @apply mt-5 text-[var(--text-lighter)] text-base md:text-base sm:text-sm max-sm:text-sm; }
  .erro { @apply text-red-500 text-xl text-center m-0 mb-2.5 ml-1 max-sm:text-[10px]; }

  /* FAQ & Help */
  .help-section {
    @apply max-w-3xl w-[90%] mx-auto mt-8 p-6
           bg-white rounded-xl shadow-lg border-2 border-gray-200
           md:max-w-2xl md:p-5 max-sm:w-[95%] max-sm:p-4;
    animation: slideInDown 0.4s ease-out, fadeIn 0.4s ease-out;
  }

  .help-list { @apply list-none p-0 m-0 mt-4 flex flex-col gap-3; }

  .help-item {
    @apply p-4 rounded-lg bg-gradient-to-r from-blue-50 to-cyan-50
           border-l-4 border-[var(--primary)] text-gray-800 text-base 
           leading-relaxed transition-all duration-300 cursor-pointer
           md:text-sm md:p-3 max-sm:text-sm max-sm:p-3;
    animation: slideInLeft 0.4s ease-out backwards;
    
    &:nth-child(n) { animation-delay: calc(0.1s * var(--i, 1)); }
    &:hover { @apply bg-gradient-to-r from-blue-100 to-cyan-100 shadow-md scale-[1.02] border-[var(--primary-dark)]; }
    &:focus { @apply outline-none ring-4 ring-[var(--primary)]/30; }
    
    strong { @apply text-[var(--primary-darker)] font-bold; }
  }

  .faq-container {
    @apply max-w-3xl w-[90%] my-5 mx-auto text-left flex flex-col gap-4
           md:max-w-2xl sm:max-w-md max-sm:max-w-full max-sm:w-[95%] max-sm:gap-3;
  }

  /* Protected Routes */
  .protected-route-container { @apply text-center p-10 mx-auto md:p-8 sm:p-6 max-sm:p-5; }
  
  .protected-route-warning {
    @apply bg-gradient-to-br from-gray-50 to-gray-100 
           border-2 border-none rounded-xl p-8 max-w-lg mx-auto shadow-lg
           md:p-6 md:max-w-md sm:p-5 sm:max-w-sm max-sm:p-4 max-sm:max-w-[95%];
  }

  .protected-route-icon { @apply text-6xl mb-4 md:text-5xl sm:text-4xl max-sm:text-3xl; }
  .protected-route-title { @apply text-gray-900 text-2xl font-bold mb-4 md:text-xl sm:text-lg max-sm:text-base; }
  
  .protected-route-message {
    @apply text-gray-900 text-base font-semibold mb-6 leading-relaxed
           md:text-sm sm:text-sm max-sm:text-xs;
  }

  .protected-route-buttons { @apply flex gap-3 justify-center flex-wrap max-sm:flex-col max-sm:gap-2; }
  
  .protected-route-button-secondary {
    @apply px-6 py-3 bg-gray-400 border-2 border-none text-gray-100 
           font-bold rounded-lg transition-all duration-200 cursor-pointer
           hover:bg-gray-900 hover:scale-105
           md:px-5 md:py-2.5 md:text-sm sm:px-4 sm:py-2 sm:text-sm max-sm:w-full max-sm:text-base;
  }

  .protected-route-button-primary {
    @apply px-6 py-3 bg-gradient-to-r from-[var(--primary)] to-[var(--secondary)]
           text-white font-bold rounded-lg border-none
           transition-all duration-200 cursor-pointer
           hover:from-[var(--primary-dark)] hover:to-[var(--primary)] hover:scale-105 hover:shadow-lg
           md:px-5 md:py-2.5 md:text-sm sm:px-4 sm:py-2 sm:text-sm max-sm:w-full max-sm:text-base;
  }

  /* Notificações Toast */
  .notification-container {
    @apply fixed top-4 right-4 z-[9999] flex flex-col gap-3 pointer-events-none;
    max-width: 400px;
    width: calc(100vw - 2rem);
    
    @media (max-width: 640px) {
      @apply top-2 right-2 left-2;
      max-width: none;
    }
  }

  .notification-toast {
    @apply relative bg-white rounded-lg shadow-2xl border pointer-events-auto
           transform transition-all duration-300;
    animation: slideInRight 0.3s ease-out;
    overflow: hidden;
  }

  .notification-info { @apply border-l-4 border-blue-500 bg-blue-50; }
  .notification-warning { @apply border-l-4 border-yellow-500 bg-yellow-50; }
  .notification-success { @apply border-l-4 border-green-500 bg-green-50; }
  .notification-error { @apply border-l-4 border-red-500 bg-red-50; }

  .notification-content { @apply flex items-start gap-3 p-4 pr-10; }
  .notification-icon-wrapper { @apply flex-shrink-0 mt-0.5; }
  .notification-icon { @apply w-5 h-5; }

  .notification-info .notification-icon-wrapper { @apply text-blue-600; }
  .notification-warning .notification-icon-wrapper { @apply text-yellow-600; }
  .notification-success .notification-icon-wrapper { @apply text-green-600; }
  .notification-error .notification-icon-wrapper { @apply text-red-600; }

  .notification-text { @apply flex-1 min-w-0; }
  .notification-title { @apply text-sm font-semibold mb-1; }
  .notification-message { @apply text-sm leading-relaxed; }

  .notification-info .notification-title { @apply text-blue-900; }
  .notification-warning .notification-title { @apply text-yellow-900; }
  .notification-success .notification-title { @apply text-green-900; }
  .notification-error .notification-title { @apply text-red-900; }

  .notification-info .notification-message { @apply text-blue-800; }
  .notification-warning .notification-message { @apply text-yellow-800; }
  .notification-success .notification-message { @apply text-green-800; }
  .notification-error .notification-message { @apply text-red-800; }

  .notification-link {
    @apply inline-flex items-center gap-1 text-sm font-medium mt-2 transition-colors duration-200;
  }

  .notification-info .notification-link { @apply text-blue-700 hover:text-blue-900; }
  .notification-warning .notification-link { @apply text-yellow-700 hover:text-yellow-900; }
  .notification-success .notification-link { @apply text-green-700 hover:text-green-900; }
  .notification-error .notification-link { @apply text-red-700 hover:text-red-900; }

  .notification-close {
    @apply absolute top-2 right-2 p-1.5 rounded-full
           transition-all duration-200
           hover:bg-black/5 focus:bg-black/5 focus:outline-none;
  }

  .notification-info .notification-close { @apply text-blue-600 hover:text-blue-900; }
  .notification-warning .notification-close { @apply text-yellow-600 hover:text-yellow-900; }
  .notification-success .notification-close { @apply text-green-600 hover:text-green-900; }
  .notification-error .notification-close { @apply text-red-600 hover:text-red-900; }

  .notification-progress {
    @apply absolute bottom-0 left-0 h-1 bg-current opacity-30;
    animation: progressBar linear forwards;
    transform-origin: left;
  }

  .notification-info .notification-progress { @apply bg-blue-600; }
  .notification-warning .notification-progress { @apply bg-yellow-600; }
  .notification-success .notification-progress { @apply bg-green-600; }
  .notification-error .notification-progress { @apply bg-red-600; }

  @media (max-width: 640px) {
    .notification-toast { @apply text-sm; }
    .notification-content { @apply p-3 pr-9; }
    .notification-title, .notification-message, .notification-link { @apply text-xs; }
  }

  /* Painel Acessibilidade */
  .accessibility-fab {
    @apply fixed bottom-6 right-6 z-[9999] w-16 h-16 rounded-full
           bg-gradient-to-br from-[var(--primary)] to-[var(--secondary)]
           text-white shadow-2xl flex items-center justify-center
           cursor-pointer transition-all duration-300
           hover:scale-110 hover:shadow-[0_8px_30px_rgba(0,159,219,0.4)]
           focus:outline-none focus:ring-4 focus:ring-[var(--primary)]/50
           md:bottom-8 md:right-8 max-sm:bottom-4 max-sm:right-4 max-sm:w-14 max-sm:h-14;
    animation: pulse-accessibility 2s ease-in-out infinite;
  }

  .accessibility-overlay {
    @apply fixed inset-0 bg-black/40 z-[9997] backdrop-blur-sm;
    animation: fadeIn 0.2s ease-out;
  }

  .accessibility-panel {
    @apply fixed top-0 right-0 h-full w-[400px] bg-white shadow-2xl 
           z-[9998] flex flex-col md:w-[380px] max-sm:w-full;
    animation: slideInRight 0.3s ease-out;
  }

  .accessibility-panel-header {
    @apply flex items-center justify-between p-6 border-b-2 border-gray-200 max-sm:p-4;
  }

  .accessibility-panel-title {
    @apply flex items-center gap-3 text-2xl font-bold text-[var(--primary-darker)] m-0 max-sm:text-xl;
  }

  .accessibility-close {
    @apply w-10 h-10 rounded-full flex items-center justify-center
           bg-gray-200 hover:bg-gray-300 text-gray-600 hover:text-gray-800
           transition-all duration-200 cursor-pointer border-none max-sm:w-9 max-sm:h-9;
  }

  .accessibility-panel-content { @apply flex-1 overflow-y-auto p-6 flex flex-col gap-5 max-sm:p-4; }

  .accessibility-option {
    @apply flex items-center justify-between p-4 rounded-xl
           bg-gray-50 border-2 border-gray-200 transition-all duration-200
           hover:border-[var(--primary)]/50 hover:shadow-md max-sm:p-3;
  }

  .accessibility-option-info { @apply flex items-start gap-3 flex-1; }
  .accessibility-option-title { @apply text-base font-bold text-[var(--primary-darker)] m-0 mb-1 max-sm:text-sm; }
  .accessibility-option-description { @apply text-sm text-gray-600 m-0 max-sm:text-xs; }

  .accessibility-toggle {
    @apply relative w-14 h-7 rounded-full bg-gray-300 border-none 
           cursor-pointer transition-all duration-300 flex-shrink-0
           max-sm:w-12 max-sm:h-6;
    
    &.active { @apply bg-gradient-to-r from-[var(--primary)] to-[var(--secondary)]; }
  }

  .accessibility-toggle-slider {
    @apply absolute top-1 left-1 w-5 h-5 bg-white rounded-full 
           shadow-md transition-transform duration-300 max-sm:w-4 max-sm:h-4;
  }

  .accessibility-toggle.active .accessibility-toggle-slider {
    @apply translate-x-7 max-sm:translate-x-6;
  }

  .accessibility-button-cycle {
    @apply px-4 py-2 rounded-lg bg-white border-2 border-[var(--primary)]
           text-[var(--primary)] font-semibold text-sm cursor-pointer 
           transition-all duration-200 flex-shrink-0
           hover:bg-[var(--primary)] hover:text-white hover:scale-105
           max-sm:px-3 max-sm:py-1.5 max-sm:text-xs;
  }

  .accessibility-reset { @apply pt-5 border-t-2 border-gray-200; }

  .accessibility-button-reset {
    @apply w-full px-4 py-3 rounded-lg bg-gradient-to-r from-red-500 to-red-600
           text-white font-bold text-sm border-none cursor-pointer
           transition-all duration-200 hover:from-red-600 hover:to-red-700 hover:scale-105
           flex items-center justify-center gap-2 max-sm:text-xs max-sm:py-2.5;
  }

  .accessibility-info { @apply p-4 rounded-lg bg-blue-50 border-l-4 border-[var(--primary)] max-sm:p-3; }
  .accessibility-info p { @apply text-sm text-gray-700 m-0 leading-relaxed max-sm:text-xs; }

  /* Hover Leitor */
  [data-leitor-ativo="true"] h1,
  [data-leitor-ativo="true"] h2,
  [data-leitor-ativo="true"] h3,
  [data-leitor-ativo="true"] p,
  [data-leitor-ativo="true"] button,
  [data-leitor-ativo="true"] a {
    cursor: help;
    position: relative;
  }

  [data-leitor-ativo="true"] h1:hover,
  [data-leitor-ativo="true"] h2:hover,
  [data-leitor-ativo="true"] h3:hover,
  [data-leitor-ativo="true"] p:hover,
  [data-leitor-ativo="true"] button:hover,
  [data-leitor-ativo="true"] a:hover {
    outline: 2px dashed var(--primary);
    outline-offset: 4px;
    background-color: rgba(0, 159, 219, 0.05);
  }
}

/* ========================================
   TEMA ESCURO - Overrides
   ======================================== */
[data-tema="escuro"] body { @apply bg-gradient-to-b from-[#1a1a2e] to-[#16213e] text-[#e0e0e0]; }

[data-tema="escuro"] .card,
[data-tema="escuro"] .unidade-card,
[data-tema="escuro"] .consulta-card,
[data-tema="escuro"] .container,
[data-tema="escuro"] .modal-content,
[data-tema="escuro"] .auth-container,
[data-tema="escuro"] .accessibility-panel {
  @apply bg-[#0f3460] text-[#e0e0e0] border-[#2d4263];
}

[data-tema="escuro"] .page-search-input,
[data-tema="escuro"] .input-field,
[data-tema="escuro"] .accessibility-option {
  @apply bg-[#16213e] text-[#e0e0e0] border-[#2d4263];
}

[data-tema="escuro"] .button { @apply from-[#00668c] to-[#1a8fb8]; }

[data-tema="escuro"] .help-section { @apply bg-[#0f3460] border-[#2d4263]; }

[data-tema="escuro"] .help-item {
  @apply bg-gradient-to-r from-[#16213e] to-[#1a2942] text-[#e0e0e0] border-[#34d6ff];
  &:hover { @apply bg-gradient-to-r from-[#1a2942] to-[#1e3450]; }
  strong { @apply text-[#34d6ff]; }
}

[data-tema="escuro"] details {
  @apply bg-[#0f3460] border-[#34d6ff];
  &[open] { @apply bg-[#16213e]; summary { @apply border-[#2d4263]; } }
  summary { @apply text-[#34d6ff]; }
  p { @apply text-[#b0b0b0]; }
}

[data-tema="escuro"] .accessibility-panel-header { @apply border-[#2d4263]; }
[data-tema="escuro"] .accessibility-panel-title { @apply text-[#34d6ff]; }
[data-tema="escuro"] .accessibility-close { @apply bg-[#16213e] hover:bg-[#2d4263] text-[#e0e0e0]; }
[data-tema="escuro"] .accessibility-option-title { @apply text-[#34d6ff]; }
[data-tema="escuro"] .accessibility-option-description { @apply text-[#999]; }
[data-tema="escuro"] .accessibility-button-cycle { @apply bg-[#16213e] border-[#34d6ff] text-[#34d6ff] hover:bg-[#34d6ff] hover:text-[#0f3460]; }
[data-tema="escuro"] .accessibility-reset { @apply border-[#2d4263]; }
[data-tema="escuro"] .accessibility-info { @apply bg-[#16213e] border-[#34d6ff]; }
[data-tema="escuro"] .accessibility-info p { @apply text-[#b0b0b0]; }

/* ========================================
   CONTRASTE & TAMANHO DE FONTE
   ======================================== */
[data-contraste="alto"] { filter: contrast(1.3); body { @apply font-bold; } }
[data-contraste="muito-alto"] { 
  filter: contrast(1.6); 
  body { @apply font-extrabold; }
  .button, a { text-decoration: underline; text-decoration-thickness: 2px; }
}

[data-tamanho-fonte="grande"] {
  font-size: 112.5%;
  h1 { @apply text-3xl md:text-4xl lg:text-5xl; }
  h2 { @apply text-2xl md:text-3xl; }
  .button, .input-field { @apply text-xl md:text-2xl; }
}

[data-tamanho-fonte="muito-grande"] {
  font-size: 125%;
  h1 { @apply text-4xl md:text-5xl lg:text-6xl; }
  h2 { @apply text-3xl md:text-4xl; }
  .button, .input-field { @apply text-2xl md:text-3xl py-5 px-8; }
  nav a { @apply text-2xl md:text-3xl; }
}

/* ========================================
   ANIMAÇÕES
   ======================================== */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes scaleIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
@keyframes slideInUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideInDown { from { opacity: 0; transform: translateY(-30px); } to { opacity: 1; transform: translateY(0); } }
@keyframes slideInLeft { from { opacity: 0; transform: translateX(-30px); } to { opacity: 1; transform: translateX(0); } }
@keyframes slideInRight { from { transform: translateX(100%); opacity: 0; } to { transform: translateX(0); opacity: 1; } }
@keyframes fadeInContent { from { opacity: 0; transform: translateY(-10px); } to { opacity: 1; transform: translateY(0); } }
@keyframes rotate180 { from { transform: rotate(0deg); } to { transform: rotate(180deg); } }
@keyframes progressBar { from { width: 100%; } to { width: 0%; } }
@keyframes pulse-accessibility {
  0%, 100% { box-shadow: 0 4px 20px rgba(0, 159, 219, 0.3); }
  50% { box-shadow: 0 4px 30px rgba(0, 159, 219, 0.6); }
}

/* Aplicar animações aos cards */
.unidade-card, .consulta-card { animation: slideInUp 0.4s ease-out; }
.unidade-card:nth-child(n), .consulta-card:nth-child(n) { animation-delay: calc(0.05s * var(--i, 1)); }

/* Micro-interações */
.page-search-input:focus ~ .search-icon { @apply text-[var(--primary)]; }
.filter-chip:active { @apply scale-95; }
.unidade-card:active, .consulta-card:active { @apply scale-100; }

[data-leitor-ativo="true"] .help-item:hover,
[data-leitor-ativo="true"] details:hover { @apply ring-4 ring-[var(--primary)]/40; }

.help-item:active, details summary:active { @apply scale-95; }